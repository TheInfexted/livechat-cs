<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Widget Integration Examples</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f7fa;
            line-height: 1.6;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
        }
        .example-section {
            margin: 30px 0;
            padding: 20px;
            background: #f8f9fa;
            border-left: 4px solid #007bff;
            border-radius: 4px;
        }
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }
        .demo-buttons {
            margin: 20px 0;
            text-align: center;
        }
        .demo-btn {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        .demo-btn:hover {
            background: #0056b3;
        }
        .demo-btn.green { background: #28a745; }
        .demo-btn.purple { background: #6f42c1; }
        .demo-btn.green:hover { background: #1e7e34; }
        .demo-btn.purple:hover { background: #5a32a3; }
        h1, h2, h3 { color: #2d3748; }
        .highlight { background: #fff3cd; padding: 2px 4px; border-radius: 3px; }
        .warning { 
            background: #fff3cd; 
            border: 1px solid #ffeaa7; 
            padding: 15px; 
            border-radius: 5px; 
            margin: 15px 0; 
            color: #856404;
        }
        .success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
            color: #155724;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöÄ Live Chat Widget - JavaScript Integration Guide</h1>
        <p>This page demonstrates how other websites can integrate your Live Chat widget using a simple JavaScript embed.</p>

        <!-- Basic Integration -->
        <div class="example-section">
            <h2>1. üìã Basic Integration (Anonymous Users)</h2>
            <p>The simplest integration for websites that don't have user authentication:</p>
            
            <div class="code-block">
&lt;!-- Place this before closing &lt;/body&gt; tag --&gt;
&lt;script&gt;
    window.LiveChatConfig = {
        baseUrl: 'https://your-chat-domain.com',
        theme: 'blue', // blue, green, purple
        position: 'bottom-right' // or bottom-left
    };
&lt;/script&gt;
&lt;script src="https://your-chat-domain.com/widget.js"&gt;&lt;/script&gt;</div>

            <div class="success">
                ‚úÖ <strong>Result:</strong> A blue chat button appears in bottom-right corner. Users chat anonymously.
            </div>
        </div>

        <!-- Advanced Integration -->
        <div class="example-section">
            <h2>2. üë§ Advanced Integration (Logged Users)</h2>
            <p>For websites with user authentication - passes user info to chat:</p>
            
            <div class="code-block">
&lt;script&gt;
    window.LiveChatConfig = {
        baseUrl: 'https://your-chat-domain.com',
        theme: 'green',
        position: 'bottom-right',
        
        // User information (populate from your PHP/backend)
        user: {
            isLoggedIn: true,
            username: 'john_doe',
            fullname: 'John Doe', 
            systemId: 'USER_12345'
        },
        
        // Custom branding
        branding: {
            title: 'Help & Support'
        },
        
        // Event callbacks
        onOpen: function() {
            console.log('Chat opened');
            // Track analytics, etc.
        },
        onClose: function() {
            console.log('Chat closed');
        }
    };
&lt;/script&gt;
&lt;script src="https://your-chat-domain.com/widget.js"&gt;&lt;/script&gt;</div>

            <div class="success">
                ‚úÖ <strong>Result:</strong> Chat shows user's name pre-filled and preserves it across sessions.
            </div>
        </div>

        <!-- Dynamic User Integration -->
        <div class="example-section">
            <h2>3. üîÑ Dynamic User Integration (PHP/Backend)</h2>
            <p>Real-world example with server-side user detection:</p>
            
            <div class="code-block">
&lt;?php
// Your existing user authentication logic
$user = getCurrentUser(); // Your function to get current user
$isLoggedIn = !empty($user);
?&gt;

&lt;script&gt;
    window.LiveChatConfig = {
        baseUrl: 'https://your-chat-domain.com',
        theme: 'blue',
        position: 'bottom-right',
        
        &lt;?php if ($isLoggedIn): ?&gt;
        user: {
            isLoggedIn: true,
            username: '&lt;?= htmlspecialchars($user['username']) ?&gt;',
            fullname: '&lt;?= htmlspecialchars($user['full_name']) ?&gt;',
            systemId: 'USER_&lt;?= $user['id'] ?&gt;'
        },
        &lt;?php else: ?&gt;
        user: {
            isLoggedIn: false
        },
        &lt;?php endif; ?&gt;
        
        branding: {
            title: 'Customer Support'
        }
    };
&lt;/script&gt;
&lt;script src="https://your-chat-domain.com/widget.js"&gt;&lt;/script&gt;</div>
        </div>

        <!-- Customization Options -->
        <div class="example-section">
            <h2>4. üé® Customization Options</h2>
            
            <div class="demo-buttons">
                <button class="demo-btn" onclick="changeTheme('blue')">Blue Theme</button>
                <button class="demo-btn green" onclick="changeTheme('green')">Green Theme</button>
                <button class="demo-btn purple" onclick="changeTheme('purple')">Purple Theme</button>
                <button class="demo-btn" onclick="changePosition('bottom-left')">Left Position</button>
                <button class="demo-btn" onclick="changePosition('bottom-right')">Right Position</button>
            </div>

            <div class="code-block">
// All available configuration options:
window.LiveChatConfig = {
    // Required
    baseUrl: 'https://your-chat-domain.com',
    
    // Appearance
    theme: 'blue',              // 'blue', 'green', 'purple'
    position: 'bottom-right',   // 'bottom-right', 'bottom-left'
    
    // User information
    user: {
        isLoggedIn: false,      // boolean
        username: '',           // string
        fullname: '',           // string  
        systemId: ''            // string (your internal user ID)
    },
    
    // Branding
    branding: {
        title: 'Customer Support',        // Modal header title
        welcomeMessage: 'How can we help?' // Optional welcome message
    },
    
    // Behavior
    autoOpen: false,            // Auto-open chat after delay
    autoOpenDelay: 3000,        // Delay in milliseconds
    
    // Callbacks
    onOpen: function() { /* chat opened */ },
    onClose: function() { /* chat closed */ }
};</div>
        </div>

        <!-- API Methods -->
        <div class="example-section">
            <h2>5. üõ†Ô∏è JavaScript API Methods</h2>
            <p>Control the widget programmatically:</p>
            
            <div class="demo-buttons">
                <button class="demo-btn" onclick="window.LiveChatWidget?.open()">Open Chat</button>
                <button class="demo-btn" onclick="window.LiveChatWidget?.close()">Close Chat</button>
                <button class="demo-btn" onclick="window.LiveChatWidget?.toggle()">Toggle Chat</button>
                <button class="demo-btn" onclick="simulateLogin()">Simulate Login</button>
                <button class="demo-btn" onclick="simulateLogout()">Simulate Logout</button>
            </div>

            <div class="code-block">
// Available methods after widget loads:

// Open/close/toggle chat
window.LiveChatWidget.open();
window.LiveChatWidget.close();
window.LiveChatWidget.toggle();

// Update user information dynamically
window.LiveChatWidget.updateUser({
    isLoggedIn: true,
    username: 'new_user',
    fullname: 'New User',
    systemId: 'USER_999'
});

// Show notification badge
window.LiveChatWidget.showNotification();

// Destroy widget (cleanup)
window.LiveChatWidget.destroy();</div>
        </div>

        <!-- Installation Steps -->
        <div class="example-section">
            <h2>6. üì¶ Installation Steps for Website Owners</h2>
            <ol>
                <li><strong>Copy the integration code</strong> from examples above</li>
                <li><strong>Change the baseUrl</strong> to your chat system domain</li>
                <li><strong>Paste before &lt;/body&gt;</strong> tag on every page where you want chat</li>
                <li><strong>Customize user info</strong> based on your authentication system</li>
                <li><strong>Test</strong> both logged in and anonymous user scenarios</li>
            </ol>

            <div class="warning">
                ‚ö†Ô∏è <strong>Important:</strong> Make sure to update the <span class="highlight">baseUrl</span> in widget.js to your actual chat domain before distribution.
            </div>
        </div>

        <!-- Live Demo -->
        <div class="example-section">
            <h2>7. üéÆ Live Demo</h2>
            <p>The widget is currently active on this page! Look for the chat button in the bottom-right corner.</p>
            <p>Try opening it and testing different user scenarios using the buttons above.</p>
        </div>

    </div>

    <!-- Live Chat Widget Integration -->
    <script>
        // This demonstrates the widget in action
        window.LiveChatConfig = {
            baseUrl: window.location.origin, // Uses current domain for demo
            theme: 'blue',
            position: 'bottom-right',
            
            // Start with anonymous user
            user: {
                isLoggedIn: false
            },
            
            branding: {
                title: 'Live Chat Demo'
            },
            
            onOpen: function() {
                console.log('Demo chat opened');
            },
            
            onClose: function() {
                console.log('Demo chat closed');  
            }
        };

        // Demo functions for testing
        function changeTheme(theme) {
            if (window.LiveChatWidget) {
                window.LiveChatWidget.config.theme = theme;
                window.LiveChatWidget.elements.container.className = 
                    window.LiveChatWidget.elements.container.className.replace(/theme-\w+/, 'theme-' + theme);
            }
        }

        function changePosition(position) {
            if (window.LiveChatWidget) {
                window.LiveChatWidget.config.position = position;
                window.LiveChatWidget.elements.container.className = 
                    window.LiveChatWidget.elements.container.className.replace(/position-[\w-]+/, 'position-' + position);
            }
        }

        function simulateLogin() {
            if (window.LiveChatWidget) {
                window.LiveChatWidget.updateUser({
                    isLoggedIn: true,
                    username: 'demo_user',
                    fullname: 'Demo User',
                    systemId: 'DEMO_123'
                });
                alert('Simulated user login. Try opening the chat now!');
            }
        }

        function simulateLogout() {
            if (window.LiveChatWidget) {
                window.LiveChatWidget.updateUser({
                    isLoggedIn: false
                });
                alert('Simulated user logout. Chat will now work anonymously.');
            }
        }
    </script>

    <!-- Load the widget -->
    <script src="/widget.js"></script>
</body>
</html>
